Hotkey Listener Started: <ctrl>+<space> (Mode: toggle)
Spawning overlay...
Spawning worker...
--- STT Daemon (AppIndicator) ---
Hotkey Listener Started: <ctrl>+<space> (Mode: toggle)
--- STT Daemon (AppIndicator) ---
Mic check: preferred device = 3
Expression 'parameters->channelCount <= maxChans' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 1514
Expression 'ValidateParameters( inputParameters, hostApi, StreamDirection_In )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 2818
Device 3 check failed: Error opening InputStream: Invalid number of channels [PaErrorCode -9998]
Preferred device 3 (Device 3) is silent or failed: Error opening InputStream: Invalid number of channels [PaErrorCode -9998]
[WORKER] 15:15:06 - [WORKER] Initial Memory Usage: 59.97 MB
[WORKER] 15:15:06 - [WORKER] Using local model from absolute path: /home/heppo/ai_tools/speech_to_text/models/faster-whisper-small
[WORKER] 15:15:06 - [WORKER] Model timeout config: 0
[WORKER] 15:15:06 - [WORKER] On-demand/Hybrid mode: Model will be loaded upon recording.
[WORKER] [STATUS] READY
[WORKER] 15:15:06 - [WORKER] Interactive Loop Started
Mic check: „Éá„Éï„Ç©„É´„Éà„Éû„Ç§„ÇØ (Device 3) „Å´‰∏çÂÖ∑Âêà„Åå„ÅÇ„Çã„Åü„ÇÅ„ÄÅBlue Microphones: USB Audio (hw:1,0) „Å´Âàá„ÇäÊõø„Åà„Åæ„Åó„Åü
Opening GUI...
/home/heppo/ai_tools/speech_to_text/gui.py:678: DeprecationWarning: app() is deprecated since version 0.70.0. Use run() instead.
  ft.app(target=main)
package:media_kit_libs_linux registered.
Unhandled error in main() handler
Traceback (most recent call last):
  File "/home/heppo/ai_tools/speech_to_text/venv/lib/python3.12/site-packages/flet/app.py", line 271, in on_session_created
    main(session.page)
  File "/home/heppo/ai_tools/speech_to_text/gui.py", line 178, in main
    dd_provider = ft.Dropdown(
                  ^^^^^^^^^^^^
TypeError: Dropdown.__init__() got an unexpected keyword argument 'on_change'
embedder.cc (2575): 'FlutterEngineRemoveView' returned 'kInvalidArguments'. Remove view info was invalid. The implicit view cannot be removed.

** (flet:46909): WARNING **: 15:15:15.149: Failed to cleanup compositor shaders, unable to make OpenGL context current

(flet:46909): Gtk-CRITICAL **: 15:15:15.149: gtk_window_get_position: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.150: gtk_window_get_size: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.150: gtk_window_get_position: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.150: gtk_window_get_size: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.203: gtk_window_get_position: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.203: gtk_window_get_size: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.203: gtk_window_get_position: assertion 'GTK_IS_WINDOW (window)' failed

(flet:46909): Gtk-CRITICAL **: 15:15:15.203: gtk_window_get_size: assertion 'GTK_IS_WINDOW (window)' failed

** (flet:46909): WARNING **: 15:15:15.470: Attempted to set message handler on an FlBinaryMessenger without an engine

** (flet:46909): WARNING **: 15:15:15.470: Attempted to set message handler on an FlBinaryMessenger without an engine

(flet:46909): GLib-GObject-CRITICAL **: 15:15:15.475: invalid (NULL) pointer instance

(flet:46909): GLib-GObject-CRITICAL **: 15:15:15.475: g_signal_handler_disconnect: assertion 'G_TYPE_CHECK_INSTANCE (instance)' failed
GUI closed.
Reloading configuration...
[WORKER] Process exited. Resetting state.
Spawning worker...
Spawning overlay...
Hotkey Listener Started: <ctrl>+<space> (Mode: toggle)
--- STT Daemon (AppIndicator) ---
[WORKER] 15:15:16 - [WORKER] Initial Memory Usage: 73.04 MB
[WORKER] 15:15:16 - [WORKER] Using local model from absolute path: /home/heppo/ai_tools/speech_to_text/models/faster-whisper-small
[WORKER] 15:15:16 - [WORKER] Model timeout config: 0
[WORKER] 15:15:16 - [WORKER] On-demand/Hybrid mode: Model will be loaded upon recording.
[WORKER] [STATUS] READY
[WORKER] 15:15:16 - [WORKER] Interactive Loop Started
[WORKER] 15:20:16 - [WORKER] Timeout (300s). Exiting.
[WORKER] Process exited. Resetting state.
Reloading configuration...
Spawning worker...
Spawning overlay...
Hotkey Listener Started: <ctrl>+<space> (Mode: toggle)
--- STT Daemon (AppIndicator) ---
[WORKER] 15:24:20 - [WORKER] Initial Memory Usage: 73.54 MB
[WORKER] 15:24:20 - [WORKER] Using local model from absolute path: /home/heppo/ai_tools/speech_to_text/models/faster-whisper-small
[WORKER] 15:24:20 - [WORKER] Model timeout config: 0
[WORKER] 15:24:20 - [WORKER] On-demand/Hybrid mode: Model will be loaded upon recording.
[WORKER] [STATUS] READY
[WORKER] 15:24:20 - [WORKER] Interactive Loop Started
Hotkey: START (Toggle)
[WORKER] [STATUS] REC
[WORKER] 15:24:23 - [WORKER] Device 4 requires 2ch, recording in stereo
[WORKER] ACK:START
[WORKER] 15:24:23 - [WORKER] Recording STARTED (device=4, rate=44100Hz, channels=2)
Hotkey: STOP (Toggle)
[WORKER] 15:24:25 - [WORKER] Recording STOPPED
[WORKER] 15:24:25 - [WORKER] Resampled audio: 44100Hz -> 16000Hz
[WORKER] 15:24:25 - [WORKER] Enqueued transcription task.
[WORKER] [STATUS] READY
[WORKER] ACK:STOP
[WORKER] [92m15:24:27 - LiteLLM:INFO[0m: utils.py:1629 - Wrapper: Completed Call, calling success_handler
[WORKER] 15:24:27 - [WORKER] Wrapper: Completed Call, calling success_handler
[WORKER] 15:24:28 - [WORKER] Transcribed (Online/groq, 0.63s): „Åì„Çå„Åß„Å°„ÇÉ„Çì„Å®Âãï„Åè„Çè„Åë?
Hotkey: START (Toggle)
[WORKER] [STATUS] REC
[WORKER] 15:24:30 - [WORKER] Device 4 requires 2ch, recording in stereo
[WORKER] ACK:START
[WORKER] 15:24:30 - [WORKER] Recording STARTED (device=4, rate=44100Hz, channels=2)
Hotkey: STOP (Toggle)
[WORKER] 15:24:32 - [WORKER] Recording STOPPED
[WORKER] 15:24:32 - [WORKER] Resampled audio: 44100Hz -> 16000Hz
[WORKER] 15:24:32 - [WORKER] Enqueued transcription task.
[WORKER] [STATUS] READY
[WORKER] ACK:STOP
[WORKER] [92m15:24:32 - LiteLLM:INFO[0m: utils.py:1629 - Wrapper: Completed Call, calling success_handler
[WORKER] 15:24:32 - [WORKER] Wrapper: Completed Call, calling success_handler
[WORKER] 15:24:32 - [WORKER] Transcribed (Online/groq, 0.32s): „Åì„Çå„Åß„Å°„ÇÉ„Çì„Å®Âãï„Åè„Çè„Åë„ÄÇ
[WORKER] 15:29:32 - [WORKER] Timeout (300s). Exiting.
